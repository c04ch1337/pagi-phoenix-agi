# Phoenix AGI (pagi) Environment Variables
# Copy to .env and customize. Defaults align with bare-metal blueprint.
# Load via shell: source .env
# Sections: General, Rust Core, Python Bridge, Memory/External Services, Self-Evolution

# General: System-wide configs
PAGI_LOG_LEVEL=info  # Log level: trace/debug/info/warn/error
PAGI_PROJECT_ROOT=./  # Root path; relative to cwd

# Rust Core-Orchestrator: Ports, paths, safety
PAGI_GRPC_PORT=50051  # gRPC listen port for Rust Pagi service
PAGI_MAX_RECURSION_DEPTH=5  # SafetyGovernor depth cap; aligns with Python
PAGI_HITL_GATE=true  # Enable HITL for core patches (true/false)

# Python Intelligence-Bridge: API, models, skills
PAGI_HTTP_PORT=8000  # FastAPI listen port
PAGI_OPENROUTER_MODEL=openrouter/auto  # LiteLLM model; e.g., 'gpt-4o' or 'claude-3.5-sonnet'
PAGI_OPENROUTER_API_KEY=your_openrouter_key_here  # Required for LiteLLM outbound calls
PAGI_SKILLS_DIR=src/skills  # Relative to bridge root; for L5 procedural
PAGI_PEEK_MAX_CHARS=2000  # Limit for file peeking to prevent overflow
PAGI_ALLOW_LOCAL_DISPATCH=false  # Allow in-process execution of allow-listed L5 skills (peek_file/save_skill) for local testing

# Memory/External Services: Qdrant, SurrealDB stubs
PAGI_QDRANT_URI=http://localhost:6334  # Local Qdrant for L4 semantic; cluster URI for scale
PAGI_QDRANT_API_KEY=  # Optional auth for non-local
PAGI_EMBEDDING_DIM=1536  # Vector size cap; matches Sentence Transformers default
PAGI_SURREALDB_PATH=db/surreal.db  # L3-L7 disk storage; relative to core
PAGI_OPENROUTER_GATEWAY=http://localhost:3000  # If using local proxy; else direct

# Self-Evolution: Watchdog, Git, Healing
PAGI_REGISTRY_PATH=../pagi-skills  # Evolution Registry dir; relative to core
PAGI_CORE_DIR=.  # Rust core dir for 'cargo test'
PAGI_BRIDGE_DIR=../pagi-intelligence-bridge  # Python bridge dir for 'poetry run pytest'
PAGI_WATCH_INTERVAL_SECS=60  # Git-Watcher poll interval
PAGI_SELF_HEAL_LOG=agent_actions.log  # If set, Python appends heal reports here
PAGI_APPROVE_FLAG=approve.patch  # HITL flag file; presence enables apply for core patches
PAGI_PATCH_DIR=patches  # Subdir in registry for temp patch files (.rs/.py)
